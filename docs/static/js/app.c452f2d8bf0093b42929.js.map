{"version":3,"sources":["webpack:///src/App.vue","webpack:///./src/services/audio.js","webpack:///./src/App.vue?8054","webpack:///./src/App.vue","webpack:///./src/api/http.js","webpack:///./src/services/axios.js","webpack:///./src/components/Settings.vue?223b","webpack:///./src/components/Settings.vue","webpack:///src/components/Settings.vue","webpack:///./src/services/actionMixin.js","webpack:///src/components/Home.vue","webpack:///./src/components/Home.vue?2c06","webpack:///./src/components/Home.vue","webpack:///src/components/List.vue","webpack:///./src/components/List.vue?df8f","webpack:///./src/components/List.vue","webpack:///./src/router.js","webpack:///./src/api/mock.js","webpack:///./src/services/filters.js","webpack:///./src/main.js"],"names":["App_socket","audio","scan","Audio","audioFolder","ready","toggle","update","play","snd","this","currentTime","_this","autoconnect","data","$root","meta","resp","toggleConnect","e","getWeather","val","fullscreen","reload","_this2","_this3","_this4","close","url","m","alert","master","slave","selectortype_template_index_0_src_App","render","_vm","_h","$createElement","_c","_self","class","ws","disableDemo","attrs","id","staticClass","toggleable","type","target","on","click","$event","showAlert","_e","_v","toggleFullScreen","to","text-success","isRooms","text-muted","directives","name","rawName","modifiers","communicate","isOpen","value","expression","_s","user","hideFake","visible","title","header-text-variant","no-fade","hide-footer","hide-backdrop","hide","preventDefault","height","src","size","placeholder","model","callback","$$v","$set","is-text","label","emulateFake","adaptTemp","muteSound","error","message","slot","button-variant","variant","mustReload","dismissible","show","showDoor","dismissed","staticRenderFns","src_App","__webpack_require__","normalizeComponent","App","ssrContext","localStorage","getItem","setItem","location","host","$http","axios_default","a","create","baseURL","protocol","services_axios","install","Vue","Object","defineProperty","prototype","components_Settings","_m","src_components_Settings","Settings_normalizeComponent","actionMixin","vue_esm","mixin","methods","sendAction","obj","register","Math","abs","window","unwrap","newVal","console","log","get","then","catch","Home","weather","components_Home","deck","no-body","cols","others","text-enable","unvalue","bell","unstatus","alarm","btn-secondary text-danger","_f","meters","main","temp","description","_l","g","k","light","Array","isArray","disabled","align","pir","reed","humidity","fire","leak","valve","gg","i","key","enabled","toggled","src_components_Home","Home_normalizeComponent","List","newvalue","oldVal","components_List","bus","s","reg","r","includes","split","fake","Zmousedown","Zmouseup","data-newvalue","duration","enter","mode","leave","src_components_List","List_normalizeComponent","use","vue_router_esm","$mockServer","src_router","routes","path","component","isPublic","redirect","linkActiveClass","onError","$socket","src_default","onGet","reply","cfg","Number","randSlave","regs","_json","send","stringify_default","onAny","mock_socket","WebSocket","socket","clearInterval","interval","setInterval","slaves","keys_default","random","length","randReg","demo","min","max","floor","numeral_default","localeData","delimiters","thousands","filter","toLocaleString","year","month","day","initCap","hour","minute","format","String","toLowerCase","replace","toUpperCase","subtype","powerValue","powerCnt","coldValue","coldCnt","hotValue","hotCnt","v","toFixed","ceil","es","config","productionTip","$resetData","emit","$options","assign_default","$data","call","$emit","$_clone","$","document","querySelector","$ArrayRemoveElement","arr","item","index","indexOf","splice","el","created","addEventListener","read","mounted","watch","beforeDestroy","removeEventListener","router","isNaN","detail","fullScreenElement","mozFullScreen","webkitIsFullScreen","documentElement","requestFullScreen","mozRequestFullScreen","webkitRequestFullScreen","Element","ALLOW_KEYBOARD_INPUT","cancelFullScreen","mozCancelFullScreen","webkitCancelFullScreen","h"],"mappings":"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","file":"static/js/app.c452f2d8bf0093b42929.js","sourcesContent":["<template lang=\"pug\">\r\ndoctype html\r\n\r\n#app(:class=\"[(!ws.disableDemo?'demo':''),(fullscreen?'nocursor':'')]\")\r\n\r\n  b-navbar.bd-navbar(toggleable=\"md\" type=\"dark\")\r\n\r\n    b-nav-toggle(target=\"nav_collapse\")\r\n\r\n    b-navbar-brand(@click=\"showAlert='с 14:00 по 18:00 будут профилактические работы'\")\r\n      .logo\r\n      b-badge(v-if=\"!ws.disableDemo\") DEMO\r\n    b-navbar-brand(@click=\"$root.toggleFullScreen()\") SMARTHOME\r\n\r\n\r\n    //- b-navbar-nav.ml-2(v-if=\"meta\")\r\n      b-nav-form\r\n        b-button(v-if=\"meta.others && meta.others.master != null\" size=\"sm\" :variant=\"masterState?'':'danger'\" :pressed.sync=\"masterState\") \r\n          i.fa.fa-power-off.mr-1/\r\n          | {{masterState?'Выключить Все':'Снят с охраны'}}\r\n        b-button.ml-2(v-if=\"meta.intercom\" size=\"sm\" variant=\"\" @click=\"opendDoor\") \r\n          i.fa.fa-key/ \r\n          | Домофон\r\n        \r\n    //-   b-nav-item(to=\"/\") Панель\r\n    //-   b-nav-item(to=\"/\") Меню\r\n\r\n    b-navbar-nav.ml-auto\r\n      //- b-nav-item(v-b-modal.settings) API\r\n      b-nav-item(to=\"/home\") \r\n        span(:class=\"{'text-success':!isRooms,'text-muted':isRooms}\") \r\n          i.fa.fa-home/\r\n      b-nav-item(to=\"/list\") \r\n        span(:class=\"{'text-success':!isRooms,'text-muted':isRooms}\") \r\n          i.fa.fa-th/\r\n      b-nav-item(v-b-modal.communicate) \r\n        span(:class=\"{'text-success':ws.isOpen,'text-muted':!ws.isOpen}\") \r\n          i.fa.fa-gear/\r\n      b-nav-item(v-b-modal=\"'settings'\").ml-3 {{user}}\r\n      b-nav-item(@click=\"reload\")\r\n        i.fa.fa-user\r\n\r\n          \r\n  .mx-3.px-2.pt-2(:class=\"{'hideFake':hideFake}\")\r\n    router-view\r\n\r\n  //- code {{ws}}\r\n\r\n  b-modal#settings(v-if=\"showAlert!=null\" :visible=\"true\" title=\"BI SERVICE - ALERT\" header-text-variant=\"danger\" @hide.prevent=\"showAlert=null\" no-fade hide-footer hide-backdrop)\r\n    .text-center\r\n      h4 Внимание! \r\n      p {{showAlert}}\r\n      img(height=\"200\" src=\"static/maintenace.jpg\")\r\n\r\n  b-modal#communicate(title=\"Подключение\")\r\n\r\n    b-form-group\r\n      b-input-group\r\n        b-form-input(v-model=\"ws.url\" size=\"lg\" placeholder=\"Server ip:port\")\r\n        b-input-group-append(is-text) \r\n          span.mr-2 Auto\r\n          b-form-checkbox(v-model=\"ws.autoconnect\")\r\n      b-row.mt-3\r\n        b-col\r\n          b-form-group(label=\"Hide Fake\")\r\n            b-form-checkbox(v-model=\"hideFake\")\r\n            b-form-checkbox(v-model=\"emulateFake\")\r\n        b-col\r\n          b-form-group(label=\"Ajust Temp - 4, Mute\")\r\n            b-form-checkbox(v-model=\"adaptTemp\")\r\n            b-form-checkbox(v-model=\"muteSound\")\r\n              \r\n\r\n    b-list-group\r\n      b-list-group-item\r\n        p.text-danger(v-if=\"ws.error\") {{ws.error}}\r\n        code {{ws.message}}\r\n\r\n    template(slot=\"modal-footer\")\r\n      b-form-checkbox(button-variant=\"primary\" v-model=\"ws.disableDemo\") Disable Demo\r\n      b-btn(:variant=\"mustReload?'primary':''\" @click=\"reload\") Reload\r\n      b-btn(@click=\"toggleConnect\" :variant=\"ws.isOpen?'secondary':'primary'\") {{(!ws.isOpen?'Connect':'Disconnect')}}\r\n\r\n  \r\n  b-alert.bialert(\r\n      dismissible \r\n      variant=\"danger\" \r\n      :show=\"showDoor != null\"\r\n      @dismissed=\"showDoor = null\")\r\n      | Домофон \r\n      a.alert-link.ml-2 {{showDoor}}\r\n\r\n</template>\r\n\r\n<script>\r\n\r\nimport Vue from 'vue'\r\nimport axios from 'axios'\r\nimport sounds from '@/services/audio'\r\n\r\n\r\nvar socket;\r\n\r\nexport default {\r\n  name: 'app',\r\n  data(){\r\n    return {\r\n      user : 'CITY SEOUL ( КВ 51 )',\r\n      isRooms:true,\r\n      dismissCountDown: 10,\r\n      showDoor:null,\r\n      showAlert:null,\r\n      hideFake:false,\r\n      emulateFake:true,\r\n      masterState:true,\r\n      adaptTemp:false,\r\n      muteSound:true,\r\n      mustReload:false,\r\n      ws:{\r\n        isOpen : false,\r\n        start: false,\r\n        error: null,\r\n        message:'Here will be data',\r\n        disableDemo:localStorage.getItem('disableDemo')=== 'true'||false,\r\n        autoconnect:localStorage.getItem('autoconnect') === 'true'||false,\r\n        url:localStorage.getItem('url')\r\n      }\r\n    }\r\n  },\r\n  created(){\r\n    console.log('created',this.ws.autoconnect)\r\n    \r\n    /*axios.get('/static/data/data.json').then((resp)=>{\r\n      console.log('Data loaded',resp.data);\r\n      this.$root.data = resp.data;\r\n    });*/\r\n    // this.demo();\r\n    if(this.ws.disableDemo){\r\n      console.log('Disabling Demo'); \r\n    }\r\n\r\n    this.$http.get('meta.json').then((resp)=>{\r\n      console.log('Metadata loaded',resp.data);\r\n      try {\r\n          if(resp.data.constructor == String) this.$root.meta=JSON.parse(resp.data);\r\n          else this.$root.meta=resp.data;\r\n          if(this.ws.autoconnect) this.toggleConnect();\r\n      } catch (e) {\r\n          console.error(e);\r\n          this.showDoor = \"meta.json invalid JSON structure!\";\r\n          return false;\r\n      }\r\n    }).catch(()=>{\r\n      this.showDoor = \"No meta.json found on server!\";\r\n    });\r\n\r\n    this.getWeather();\r\n    \r\n  },\r\n  watch:{\r\n    'ws.url'(val){\r\n      localStorage.setItem('url',val)\r\n      this.mustReload = true;\r\n    },\r\n    'ws.disableDemo'(val){\r\n      localStorage.setItem('disableDemo',val)\r\n      this.mustReload = true;\r\n    },\r\n    'emulateFake'(val){\r\n      this.$http.get('fake/'+val).then((resp)=>{\r\n        console.log('toggleFake',resp.data)\r\n      });\r\n    },\r\n    'masterState'(val){\r\n      this.$http.get('master/'+val).then((resp)=>{\r\n        console.log('toggleMaster',resp.data)\r\n      });\r\n    },\r\n    'ws.autoconnect'(val){\r\n      localStorage.setItem('autoconnect',val)\r\n      this.mustReload = true;\r\n    }\r\n  },\r\n  computed:{\r\n    fullscreen(){\r\n      return this.$root.fullscreen\r\n    },\r\n    data(){\r\n      return this.$root.data;\r\n    },\r\n    meta(){\r\n      return this.$root.meta;\r\n    }\r\n  },\r\n  beforeDestroy(){\r\n    if(this.ws.isOpen) this.toggleConnect();\r\n  },\r\n  methods:{\r\n    reload(){\r\n      location.reload();\r\n    },\r\n    opendDoor(){\r\n      this.$http.get('opendoor').then((resp)=>{\r\n          console.log(resp);\r\n          this.showDoor = resp.data;\r\n        }).catch(()=>{\r\n        });\r\n    },\r\n    getWeather(){\r\n\r\n      console.log('getting weather')\r\n\r\n      if(localStorage.getItem('weather') != null){\r\n        this.$root.weather = JSON.parse(localStorage.getItem('weather'));\r\n        return;\r\n      }\r\n\r\n      axios.get('https://api.openweathermap.org/data/2.5/weather?q=Astana,KZ&appid=b7c0c6193d281b57a30652d34a8a5b25&units=metric').then((resp)=>{\r\n        console.log('fetching weather',resp.data)\r\n        localStorage.setItem('weather',JSON.stringify(resp.data))\r\n        this.$root.weather = resp.data;\r\n      }).catch(()=>{\r\n        \r\n      });\r\n\r\n    },\r\n    toggleConnect(){\r\n      if(this.ws.isOpen){\r\n        socket.close();\r\n        this.ws.isOpen = false;\r\n        socket = null;\r\n      } else {\r\n        this.$http.get('data.json').then((resp)=>{\r\n\r\n          this.$root.data = resp.data\r\n          this.ws.message = resp.data;\r\n\r\n          socket = null;\r\n          socket = new WebSocket('ws://'+this.ws.url);\r\n          socket.addEventListener('open', (e) => {\r\n            this.ws.isOpen = true\r\n            socket.send('/');\r\n          });\r\n          socket.addEventListener('error', (e) => {\r\n            console.error('error',e)\r\n            this.ws.error = e\r\n            this.ws.isOpen = false\r\n          });\r\n          socket.addEventListener('close', (e) => {\r\n            // console.log('close',e)\r\n            this.ws.isOpen = false\r\n          });\r\n          socket.addEventListener('message', (m) => {\r\n            // console.log('message',m)\r\n            if(!this.muteSound) sounds.play('update');\r\n\r\n            m = JSON.parse(m.data)\r\n            this.ws.message = m;\r\n\r\n            if(m.alert){\r\n              console.log('ALERT',m.alert);\r\n              this.showAlert = m.alert;\r\n            } else if(m.master){\r\n              console.log('MASTER',m.master);\r\n\r\n            } else {\r\n\r\n              Object.keys(m).forEach((slave)=>{\r\n                /*m[slave].forEach((val,j)=>{\r\n                  this.$root.data[slave][j] = val\r\n                });*/\r\n                this.$root.data[slave] = m[slave];\r\n              });\r\n\r\n            }\r\n          });\r\n        });\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n\r\n</script>\r\n\r\n<style lang=\"stylus\" src=\"./AppStyles.stylus\"/>\n\n\n// WEBPACK FOOTER //\n// src/App.vue","const audioFolder = 'static/audio/'\r\n\r\nexport default {\r\n  scan : new Audio(audioFolder+\"scan.mp3\"),\r\n  ready : new Audio(audioFolder+\"ready.mp3\"),\r\n  toggle : new Audio(audioFolder+\"clear.mp3\"),\r\n  update: new Audio(audioFolder+\"update.mp3\"),\r\n  play : function (snd){\r\n      this[snd].currentTime = 0\r\n      this[snd].play();\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/services/audio.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:[(!_vm.ws.disableDemo?'demo':''),(_vm.fullscreen?'nocursor':'')],attrs:{\"id\":\"app\"}},[_c('b-navbar',{staticClass:\"bd-navbar\",attrs:{\"toggleable\":\"md\",\"type\":\"dark\"}},[_c('b-nav-toggle',{attrs:{\"target\":\"nav_collapse\"}}),_c('b-navbar-brand',{on:{\"click\":function($event){_vm.showAlert='с 14:00 по 18:00 будут профилактические работы'}}},[_c('div',{staticClass:\"logo\"}),(!_vm.ws.disableDemo)?_c('b-badge',[_vm._v(\"DEMO\")]):_vm._e()],1),_c('b-navbar-brand',{on:{\"click\":function($event){_vm.$root.toggleFullScreen()}}},[_vm._v(\"SMARTHOME\")]),_c('b-navbar-nav',{staticClass:\"ml-auto\"},[_c('b-nav-item',{attrs:{\"to\":\"/home\"}},[_c('span',{class:{'text-success':!_vm.isRooms,'text-muted':_vm.isRooms}},[_c('i',{staticClass:\"fa fa-home\"})])]),_c('b-nav-item',{attrs:{\"to\":\"/list\"}},[_c('span',{class:{'text-success':!_vm.isRooms,'text-muted':_vm.isRooms}},[_c('i',{staticClass:\"fa fa-th\"})])]),_c('b-nav-item',{directives:[{name:\"b-modal\",rawName:\"v-b-modal.communicate\",modifiers:{\"communicate\":true}}]},[_c('span',{class:{'text-success':_vm.ws.isOpen,'text-muted':!_vm.ws.isOpen}},[_c('i',{staticClass:\"fa fa-gear\"})])]),_c('b-nav-item',{directives:[{name:\"b-modal\",rawName:\"v-b-modal\",value:('settings'),expression:\"'settings'\"}],staticClass:\"ml-3\"},[_vm._v(_vm._s(_vm.user))]),_c('b-nav-item',{on:{\"click\":_vm.reload}},[_c('i',{staticClass:\"fa fa-user\"})])],1)],1),_c('div',{staticClass:\"mx-3 px-2 pt-2\",class:{'hideFake':_vm.hideFake}},[_c('router-view')],1),(_vm.showAlert!=null)?_c('b-modal',{attrs:{\"id\":\"settings\",\"visible\":true,\"title\":\"BI SERVICE - ALERT\",\"header-text-variant\":\"danger\",\"no-fade\":\"\",\"hide-footer\":\"\",\"hide-backdrop\":\"\"},on:{\"hide\":function($event){$event.preventDefault();_vm.showAlert=null}}},[_c('div',{staticClass:\"text-center\"},[_c('h4',[_vm._v(\"Внимание! \")]),_c('p',[_vm._v(_vm._s(_vm.showAlert))]),_c('img',{attrs:{\"height\":\"200\",\"src\":\"static/maintenace.jpg\"}})])]):_vm._e(),_c('b-modal',{attrs:{\"id\":\"communicate\",\"title\":\"Подключение\"}},[_c('b-form-group',[_c('b-input-group',[_c('b-form-input',{attrs:{\"size\":\"lg\",\"placeholder\":\"Server ip:port\"},model:{value:(_vm.ws.url),callback:function ($$v) {_vm.$set(_vm.ws, \"url\", $$v)},expression:\"ws.url\"}}),_c('b-input-group-append',{attrs:{\"is-text\":\"\"}},[_c('span',{staticClass:\"mr-2\"},[_vm._v(\"Auto\")]),_c('b-form-checkbox',{model:{value:(_vm.ws.autoconnect),callback:function ($$v) {_vm.$set(_vm.ws, \"autoconnect\", $$v)},expression:\"ws.autoconnect\"}})],1)],1),_c('b-row',{staticClass:\"mt-3\"},[_c('b-col',[_c('b-form-group',{attrs:{\"label\":\"Hide Fake\"}},[_c('b-form-checkbox',{model:{value:(_vm.hideFake),callback:function ($$v) {_vm.hideFake=$$v},expression:\"hideFake\"}}),_c('b-form-checkbox',{model:{value:(_vm.emulateFake),callback:function ($$v) {_vm.emulateFake=$$v},expression:\"emulateFake\"}})],1)],1),_c('b-col',[_c('b-form-group',{attrs:{\"label\":\"Ajust Temp - 4, Mute\"}},[_c('b-form-checkbox',{model:{value:(_vm.adaptTemp),callback:function ($$v) {_vm.adaptTemp=$$v},expression:\"adaptTemp\"}}),_c('b-form-checkbox',{model:{value:(_vm.muteSound),callback:function ($$v) {_vm.muteSound=$$v},expression:\"muteSound\"}})],1)],1)],1)],1),_c('b-list-group',[_c('b-list-group-item',[(_vm.ws.error)?_c('p',{staticClass:\"text-danger\"},[_vm._v(_vm._s(_vm.ws.error))]):_vm._e(),_c('code',[_vm._v(_vm._s(_vm.ws.message))])])],1),_c('template',{slot:\"modal-footer\"},[_c('b-form-checkbox',{attrs:{\"button-variant\":\"primary\"},model:{value:(_vm.ws.disableDemo),callback:function ($$v) {_vm.$set(_vm.ws, \"disableDemo\", $$v)},expression:\"ws.disableDemo\"}},[_vm._v(\"Disable Demo\")]),_c('b-btn',{attrs:{\"variant\":_vm.mustReload?'primary':''},on:{\"click\":_vm.reload}},[_vm._v(\"Reload\")]),_c('b-btn',{attrs:{\"variant\":_vm.ws.isOpen?'secondary':'primary'},on:{\"click\":_vm.toggleConnect}},[_vm._v(_vm._s((!_vm.ws.isOpen?'Connect':'Disconnect')))])],1)],2),_c('b-alert',{staticClass:\"bialert\",attrs:{\"dismissible\":\"\",\"variant\":\"danger\",\"show\":_vm.showDoor != null},on:{\"dismissed\":function($event){_vm.showDoor = null}}},[_vm._v(\"Домофон \"),_c('a',{staticClass:\"alert-link ml-2\"},[_vm._v(_vm._s(_vm.showDoor))])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7978a5be\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/template-compiler/preprocessor.js?engine=pug!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7978a5be\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!./AppStyles.stylus\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7978a5be\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/template-compiler/preprocessor?engine=pug!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","import axios from 'axios'\r\n\r\nif (localStorage.getItem(\"url\") === null) {\r\n  localStorage.setItem('url',location.host);\r\n}\r\n\r\nexport const $http = axios.create({\r\n  baseURL: location.protocol + '//' + localStorage.getItem('url')\r\n})\n\n\n// WEBPACK FOOTER //\n// ./src/api/http.js","import {$http} from '@/api/http'\r\n\r\nexport default {\r\n  install: function(Vue,) {\r\n    Object.defineProperty(Vue.prototype, '$http', { value: $http });\r\n  }\r\n}\r\n\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/axios.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"m-5\"},[_c('h5',[_vm._v(\"Settings\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4efd6c0e\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/template-compiler/preprocessor.js?engine=pug!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Settings.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4efd6c0e\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Settings.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Settings.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Settings.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4efd6c0e\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/template-compiler/preprocessor?engine=pug!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Settings.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Settings.vue\n// module id = null\n// module chunks = ","<template lang=\"pug\">\r\n.m-5\r\n  h5 Settings\r\n</template>\r\n\r\n<script>\r\nimport Vue from 'vue'\r\n\r\nexport default {\r\n  name: 'Settings',\r\n  data () {\r\n    return {\r\n      hid:null,\r\n    }\r\n  },\r\n  methods:{\r\n    \r\n  }\r\n}\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style  lang=\"stylus\">\r\n     \r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/Settings.vue","import Vue from 'vue'\r\n\r\nexport default Vue.mixin({\r\n  methods: {\r\n    sendAction(obj){\r\n\r\n      if(!obj) { console.log('nothing to send'); return; }\r\n\r\n      var slave = obj[0];\r\n      var register = Math.abs(obj[1]);\r\n      var val = window.unwrap(obj,0,this.data);\r\n      var newVal = (val == 1) ? 0 : 1;\r\n\r\n      console.log('sendAction',slave,register,val+ '->'+ newVal)\r\n\r\n      this.$http.get(`/write/${slave}/${register}/${newVal}`).then(()=>{\r\n      // this.toggleConfirm(group,key,val);\r\n      // val.status = null\r\n      }).catch((e)=>{\r\n        console.error('sendAction with error',e);\r\n      // this.toggleError(group,key,val);\r\n      });\r\n    },\r\n    /*down(obj){\r\n\r\n      var slave = obj[0];\r\n      var register = Math.abs(obj[1]);\r\n      var value = window.unwrap(obj,0,this.data);\r\n\r\n      Vue.set(value,'status','progress');\r\n      console.log('down',value);\r\n    },\r\n    up(obj){\r\n\r\n      var slave = obj[0];\r\n      var register = Math.abs(obj[1]);\r\n      var value = window.unwrap(obj,0,this.data);\r\n\r\n      console.log('up');\r\n      if(value.type == 'TOGGLE')\r\n        value = false\r\n    },*/\r\n    /*toggleConfirm(group,key,value){\r\n      console.log('toggleConfirm');\r\n      this.devices[group][key].status = null\r\n    },\r\n    toggleError(group,key,value){\r\n      console.log('toggleError');\r\n      this.devices[group][key].status = 'error'\r\n      this.devices[group][key].value = (value == 0?1:0)\r\n      this.timeout(group,key);\r\n    },timeout(group,key){\r\n      window.clearTimeout(this.errortm);\r\n      this.errortm = window.setTimeout(()=>{\r\n        this.devices[group][key].status = null\r\n      }, 500);\r\n    },*/\r\n    \r\n  }\r\n});\n\n\n// WEBPACK FOOTER //\n// ./src/services/actionMixin.js","<template lang=\"pug\">\r\ndiv(v-if=\"meta\")\r\n  b-card-group.uyi.rooms.main(deck)\r\n\r\n    b-card(no-body)\r\n      b-card-body\r\n        b-row.display.p-2\r\n          b-col(cols=\"3\")\r\n              b-btn.w100.btn-block.text-left(size=\"lg\" \r\n                v-if=\"meta.others && meta.others.master\"\r\n                :class=\"{'text-enable':unvalue(meta.others.master)}\"\r\n                @click=\"sendAction(meta.others.master)\")\r\n                i.fa.fa-power-off.mr-2/\r\n                | Отключить\r\n              b-btn.w100.btn-block.text-left(\r\n                v-if=\"meta.others && meta.others.bell\"\r\n                size=\"lg\"\r\n                :class=\"{'text-enable':unstatus(meta.others.bell)}\"\r\n                @click=\"sendAction(meta.others.bell)\")\r\n                  i.fa.fa-bell-slash.mr-2(v-if=\"unvalue(meta.others.bell)\")\r\n                  i.fa.fa-bell.mr-2(v-else)\r\n                  | Звонок\r\n              b-btn.w100.btn-block.text-left(size=\"lg\" variant=\"outline-secondary\" \r\n                v-if=\"meta.others && meta.others.alarm\"\r\n                @click=\"sendAction(meta.others.alarm)\"\r\n                :class=\"{'btn-secondary text-danger':unstatus(meta.others.alarm)}\")\r\n                i.fa.fa-bolt.mr-2/\r\n                | Сирена\r\n          b-col(cols=\"4\").w100\r\n              div\r\n                small Горячяя Вода \r\n              div\r\n                small Холодная Вода \r\n              div\r\n                small Электроэнергия\r\n              div\r\n                small Погода\r\n          b-col(cols=\"5\")\r\n              div\r\n                span.mr-2 {{meta.meters['Гор-Вода'] | unwrap(data) | money('hot')}}\r\n              div\r\n                span.mr-2 {{meta.meters['Хол-Вода'] | unwrap(data) | money('cold')}}\r\n              div\r\n                span.mr-2 {{meta.meters['Свет'] | unwrap(data) | money('power')}}\r\n              div(v-if=\"weather\")\r\n                small.mr-2: i.fa.fa-snowflake-o\r\n                span.mrs-2 {{weather.main.temp}}° \r\n                small {{weather.weather[0].description}}\r\n\r\n  b-card-group.uyi.rooms(deck)\r\n\r\n    template(v-for=\"(g,k) in meta.rooms\")\r\n      template(v-if=\"g.light && Array.isArray(g.light[0])\")\r\n        b-card(:disabled=\"g.disabled\" no-body align=\"center\")\r\n          b-card-header \r\n            i.fa.fa-user-secret.mr-1(v-if=\"unvalue(g.pir)\")\r\n            i.fa.fa-folder-open-o.mr-1(v-if=\"unvalue(g.reed)\")\r\n            | {{g.name}}\r\n          b-card-body\r\n            .display.pt-3\r\n              .temp(v-if=\"g.temp\") {{unvalue(g.temp) | numeric}}\r\n              .humidity(v-if=\"g.humidity\") {{unvalue(g.humidity)}}\r\n            .sensors.text-center\r\n              i.fa.fa-fire.text-danger.mr-1(v-if=\"unvalue(g.fire)\")/\r\n              i.fa.fa-tint.text-danger.mr-1(v-if=\"unvalue(g.leak)\")/\r\n              i.fa.fa-ban.text-danger.mr-1(v-if=\"unstatus(g.valve)\")/\r\n            .swicthes\r\n              b-btn.btn-block(size=\"lg\" \r\n                :key=\"i\"\r\n                @click=\"sendAction(gg)\"\r\n                v-for=\"(gg,i) in g.light\"\r\n                :class=\"{'enabled':unstatus(gg),'toggled':unvalue(gg)}\")\r\n\r\n      template(v-else)\r\n        b-card(@click=\"sendAction(g.light)\"\r\n             :class=\"{'enabled':unstatus(g.light),'toggled':unvalue(g.light)}\"\r\n             :disabled=\"g.disabled\"\r\n             no-body\r\n             align=\"center\")\r\n          b-card-header \r\n            i.fa.fa-user-secret.mr-1(v-if=\"unvalue(g.pir)\")\r\n            i.fa.fa-folder-open-o.mr-1(v-if=\"unvalue(g.reed)\")\r\n            | {{g.name}}\r\n          b-card-body\r\n            .display.pt-3\r\n              .temp(v-if=\"g.temp\") {{unvalue(g.temp) | numeric}}\r\n              .humidity(v-if=\"g.humidity\") {{unvalue(g.humidity)}}\r\n            .sensors.text-center\r\n              i.fa.fa-fire.text-danger.mr-1(v-if=\"unvalue(g.fire)\")/\r\n              i.fa.fa-tint.text-danger.mr-1(v-if=\"unvalue(g.leak)\")/\r\n              i.fa.fa-ban.text-danger.mr-1(v-if=\"unstatus(g.valve)\")/\r\n   \r\n\r\n</template>\r\n\r\n<script>\r\n\r\nimport Vue from 'vue'\r\nimport actionMixin from '@/services/actionMixin'\r\n\r\n\r\nexport default {\r\n  name: 'Home',\r\n  data(){\r\n    return {\r\n      home:{}\r\n    }\r\n  },\r\n  computed:{\r\n    unstatus(){\r\n      return (v) => window.unwrap(v,2,this.data)\r\n    },\r\n    unvalue(){\r\n      return (v) => window.unwrap(v,0,this.data)\r\n    },\r\n    meta(){\r\n      return this.$root.meta;\r\n    },\r\n    data(){\r\n      return this.$root.data;\r\n    },\r\n    weather(){\r\n      return this.$root.weather;\r\n    },\r\n  },\r\n  mixins: [actionMixin]\r\n}\r\n\r\n\r\n\r\n</script>\r\n\r\n<style lang=\"stylus\">\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/Home.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.meta)?_c('div',[_c('b-card-group',{staticClass:\"uyi rooms main\",attrs:{\"deck\":\"deck\"}},[_c('b-card',{attrs:{\"no-body\":\"no-body\"}},[_c('b-card-body',[_c('b-row',{staticClass:\"display p-2\"},[_c('b-col',{attrs:{\"cols\":\"3\"}},[(_vm.meta.others && _vm.meta.others.master)?_c('b-btn',{staticClass:\"w100 btn-block text-left\",class:{'text-enable':_vm.unvalue(_vm.meta.others.master)},attrs:{\"size\":\"lg\"},on:{\"click\":function($event){_vm.sendAction(_vm.meta.others.master)}}},[_c('i',{staticClass:\"fa fa-power-off mr-2\"}),_vm._v(\"Отключить\")]):_vm._e(),(_vm.meta.others && _vm.meta.others.bell)?_c('b-btn',{staticClass:\"w100 btn-block text-left\",class:{'text-enable':_vm.unstatus(_vm.meta.others.bell)},attrs:{\"size\":\"lg\"},on:{\"click\":function($event){_vm.sendAction(_vm.meta.others.bell)}}},[(_vm.unvalue(_vm.meta.others.bell))?_c('i',{staticClass:\"fa fa-bell-slash mr-2\"}):_c('i',{staticClass:\"fa fa-bell mr-2\"}),_vm._v(\"Звонок\")]):_vm._e(),(_vm.meta.others && _vm.meta.others.alarm)?_c('b-btn',{staticClass:\"w100 btn-block text-left\",class:{'btn-secondary text-danger':_vm.unstatus(_vm.meta.others.alarm)},attrs:{\"size\":\"lg\",\"variant\":\"outline-secondary\"},on:{\"click\":function($event){_vm.sendAction(_vm.meta.others.alarm)}}},[_c('i',{staticClass:\"fa fa-bolt mr-2\"}),_vm._v(\"Сирена\")]):_vm._e()],1),_c('b-col',{staticClass:\"w100\",attrs:{\"cols\":\"4\"}},[_c('div',[_c('small',[_vm._v(\"Горячяя Вода \")])]),_c('div',[_c('small',[_vm._v(\"Холодная Вода \")])]),_c('div',[_c('small',[_vm._v(\"Электроэнергия\")])]),_c('div',[_c('small',[_vm._v(\"Погода\")])])]),_c('b-col',{attrs:{\"cols\":\"5\"}},[_c('div',[_c('span',{staticClass:\"mr-2\"},[_vm._v(_vm._s(_vm._f(\"money\")(_vm._f(\"unwrap\")(_vm.meta.meters['Гор-Вода'],_vm.data),'hot')))])]),_c('div',[_c('span',{staticClass:\"mr-2\"},[_vm._v(_vm._s(_vm._f(\"money\")(_vm._f(\"unwrap\")(_vm.meta.meters['Хол-Вода'],_vm.data),'cold')))])]),_c('div',[_c('span',{staticClass:\"mr-2\"},[_vm._v(_vm._s(_vm._f(\"money\")(_vm._f(\"unwrap\")(_vm.meta.meters['Свет'],_vm.data),'power')))])]),(_vm.weather)?_c('div',[_c('small',{staticClass:\"mr-2\"},[_c('i',{staticClass:\"fa fa-snowflake-o\"})]),_c('span',{staticClass:\"mrs-2\"},[_vm._v(_vm._s(_vm.weather.main.temp)+\"° \")]),_c('small',[_vm._v(_vm._s(_vm.weather.weather[0].description))])]):_vm._e()])],1)],1)],1)],1),_c('b-card-group',{staticClass:\"uyi rooms\",attrs:{\"deck\":\"deck\"}},[_vm._l((_vm.meta.rooms),function(g,k){return [(g.light && Array.isArray(g.light[0]))?[_c('b-card',{attrs:{\"disabled\":g.disabled,\"no-body\":\"no-body\",\"align\":\"center\"}},[_c('b-card-header',[(_vm.unvalue(g.pir))?_c('i',{staticClass:\"fa fa-user-secret mr-1\"}):_vm._e(),(_vm.unvalue(g.reed))?_c('i',{staticClass:\"fa fa-folder-open-o mr-1\"}):_vm._e(),_vm._v(_vm._s(g.name))]),_c('b-card-body',[_c('div',{staticClass:\"display pt-3\"},[(g.temp)?_c('div',{staticClass:\"temp\"},[_vm._v(_vm._s(_vm._f(\"numeric\")(_vm.unvalue(g.temp))))]):_vm._e(),(g.humidity)?_c('div',{staticClass:\"humidity\"},[_vm._v(_vm._s(_vm.unvalue(g.humidity)))]):_vm._e()]),_c('div',{staticClass:\"sensors text-center\"},[(_vm.unvalue(g.fire))?_c('i',{staticClass:\"fa fa-fire text-danger mr-1\"}):_vm._e(),(_vm.unvalue(g.leak))?_c('i',{staticClass:\"fa fa-tint text-danger mr-1\"}):_vm._e(),(_vm.unstatus(g.valve))?_c('i',{staticClass:\"fa fa-ban text-danger mr-1\"}):_vm._e()]),_c('div',{staticClass:\"swicthes\"},_vm._l((g.light),function(gg,i){return _c('b-btn',{key:i,staticClass:\"btn-block\",class:{'enabled':_vm.unstatus(gg),'toggled':_vm.unvalue(gg)},attrs:{\"size\":\"lg\"},on:{\"click\":function($event){_vm.sendAction(gg)}}})}))])],1)]:[_c('b-card',{class:{'enabled':_vm.unstatus(g.light),'toggled':_vm.unvalue(g.light)},attrs:{\"disabled\":g.disabled,\"no-body\":\"no-body\",\"align\":\"center\"},on:{\"click\":function($event){_vm.sendAction(g.light)}}},[_c('b-card-header',[(_vm.unvalue(g.pir))?_c('i',{staticClass:\"fa fa-user-secret mr-1\"}):_vm._e(),(_vm.unvalue(g.reed))?_c('i',{staticClass:\"fa fa-folder-open-o mr-1\"}):_vm._e(),_vm._v(_vm._s(g.name))]),_c('b-card-body',[_c('div',{staticClass:\"display pt-3\"},[(g.temp)?_c('div',{staticClass:\"temp\"},[_vm._v(_vm._s(_vm._f(\"numeric\")(_vm.unvalue(g.temp))))]):_vm._e(),(g.humidity)?_c('div',{staticClass:\"humidity\"},[_vm._v(_vm._s(_vm.unvalue(g.humidity)))]):_vm._e()]),_c('div',{staticClass:\"sensors text-center\"},[(_vm.unvalue(g.fire))?_c('i',{staticClass:\"fa fa-fire text-danger mr-1\"}):_vm._e(),(_vm.unvalue(g.leak))?_c('i',{staticClass:\"fa fa-tint text-danger mr-1\"}):_vm._e(),(_vm.unstatus(g.valve))?_c('i',{staticClass:\"fa fa-ban text-danger mr-1\"}):_vm._e()])])],1)]]})],2)],1):_vm._e()}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6be1d46e\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/template-compiler/preprocessor.js?engine=pug!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Home.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6be1d46e\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Home.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Home.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Home.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6be1d46e\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/template-compiler/preprocessor?engine=pug!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Home.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Home.vue\n// module id = null\n// module chunks = ","<template lang=\"pug\">\r\nb-card-group.uyi.devices(deck v-if=\"data && meta\")\r\n  template(v-for=\"(bus,s) in meta.slaves\")\r\n    b-card(\r\n      v-for=\"(reg,r) in bus.regs\"\r\n       :class=\"['hub'+s,reg.split('.'),bus.error,(bus.fake?'fake':''),(unvalue([s,r])==1?'enabled':'')]\"\r\n       :key=\"s+':'+r\"\r\n       no-body\r\n       v-if=\"reg && !reg.includes('CHANGE')\"\r\n       @click=\"sendAction([s,r])\"\r\n       Zmousedown=\"down([s,r])\"\r\n       Zmouseup=\"up([s,r])\"\r\n       align=\"center\")\r\n      b-card-header {{(reg)}}\r\n      b-card-body(:data-newvalue=\"unvalue([s,r])\")\r\n        transition(:name=\"reg.includes('METER')?'slide-fade':(reg.includes('RELAY')?'chuh':'blink')\" :duration=\"{ enter: 500}\" @leave=\"leave\" @enter=\"enter\" mode=\"out-in\")\r\n          h4.card-title.meters(v-if=\"reg.includes('METER')\" :key=\"unvalue([s,r])\")\r\n            | {{unvalue([s,r]) | numeric}}\r\n          h4.card-title(v-else :key=\"unvalue([s,r])\") {{unvalue([s,r])}}\r\n\r\n//- b-card-group.uyi.devices(deck)\r\n//-   template(v-for=\"(bus,s) in data.groups\")\r\n//-     b-card(\r\n//-       v-for=\"(value,i) in bus.devices\"\r\n//-        :class=\"['hub'+s,value.status,value.type,value.subtype,bus.error,(bus.fake||value.fake?'fake':''),(value.value==1?'enabled':''),(value.value==0||value.value==1?'':'numeric')]\"\r\n//-        :key=\"s+':'+i\"\r\n//-        no-body\r\n//-        @click=\"sendAction(s,i,value)\"\r\n//-        mousedown=\"down(s,i,value)\"\r\n//-        mouseup=\"up(s,i,value)\"\r\n//-        align=\"center\")\r\n//-       b-card-header {{(value.name)}}\r\n//-       b-card-body(:data-newvalue=\"value.value\")\r\n//-         transition(:name=\"value.subtype=='METER'?'slide-fade':(value.type=='switch'?'chuh':'blink')\" :duration=\"{ enter: 500}\" @leave=\"leave\" @enter=\"enter\" mode=\"out-in\")\r\n//-           h4.card-title.meters(v-if=\"value.subtype == 'METER'\" :key=\"value.value\")\r\n//-             | {{value.value | numeric | adjuster(value.type,adaptTemp)}} \r\n//-           h4.card-title(v-else :key=\"value.value\") {{value.value | humanizer(value.type,value.subtype)}}\r\n   \r\n\r\n</template>\r\n\r\n<script>\r\n\r\nimport Vue from 'vue'\r\nimport actionMixin from '@/services/actionMixin'\r\n\r\n\r\nexport default {\r\n  name: 'List',\r\n  data(){\r\n    return {\r\n      home:{}\r\n    }\r\n  },\r\n  computed:{\r\n    unstatus(){\r\n      return (v) => window.unvalue(v,2,this.data)\r\n    },\r\n    unvalue(){\r\n      return (v) => window.unwrap(v,0,this.data)\r\n    },\r\n    meta(){\r\n      return this.$root.meta;\r\n    },\r\n    data(){\r\n      return this.$root.data;\r\n    }\r\n  },\r\n  mixins: [actionMixin],\r\n  methods:{\r\n    enter(el){\r\n      var newVal = el.parentElement.dataset.newvalue;\r\n      var oldVal = el.parentElement.dataset.value\r\n          el.parentElement.dataset.value = newVal\r\n      if(newVal!=0&&newVal!=1){\r\n          if(oldVal != null) {\r\n            if(newVal > oldVal) el.parentElement.dataset.dir = 'up'\r\n            else if(newVal < oldVal) el.parentElement.dataset.dir = 'down'\r\n            else el.parentElement.dataset.dir = ''\r\n          }\r\n      }\r\n    },\r\n    leave(el){\r\n      el.parentElement.dataset.dir = ''\r\n    },\r\n  }\r\n}\r\n\r\n\r\n</script>\r\n\r\n<style lang=\"stylus\">\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/List.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.data && _vm.meta)?_c('b-card-group',{staticClass:\"uyi devices\",attrs:{\"deck\":\"deck\"}},[_vm._l((_vm.meta.slaves),function(bus,s){return _vm._l((bus.regs),function(reg,r){return (reg && !reg.includes('CHANGE'))?_c('b-card',{key:s+':'+r,class:['hub'+s,reg.split('.'),bus.error,(bus.fake?'fake':''),(_vm.unvalue([s,r])==1?'enabled':'')],attrs:{\"no-body\":\"no-body\",\"Zmousedown\":\"down([s,r])\",\"Zmouseup\":\"up([s,r])\",\"align\":\"center\"},on:{\"click\":function($event){_vm.sendAction([s,r])}}},[_c('b-card-header',[_vm._v(_vm._s((reg)))]),_c('b-card-body',{attrs:{\"data-newvalue\":_vm.unvalue([s,r])}},[_c('transition',{attrs:{\"name\":reg.includes('METER')?'slide-fade':(reg.includes('RELAY')?'chuh':'blink'),\"duration\":{ enter: 500},\"mode\":\"out-in\"},on:{\"leave\":_vm.leave,\"enter\":_vm.enter}},[(reg.includes('METER'))?_c('h4',{key:_vm.unvalue([s,r]),staticClass:\"card-title meters\"},[_vm._v(_vm._s(_vm._f(\"numeric\")(_vm.unvalue([s,r]))))]):_c('h4',{key:_vm.unvalue([s,r]),staticClass:\"card-title\"},[_vm._v(_vm._s(_vm.unvalue([s,r])))])])],1)],1):_vm._e()})})],2):_vm._e()}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2cbd5da4\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/template-compiler/preprocessor.js?engine=pug!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/List.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2cbd5da4\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./List.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./List.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./List.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2cbd5da4\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/template-compiler/preprocessor?engine=pug!../../node_modules/vue-loader/lib/selector?type=template&index=0!./List.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/List.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\r\nimport Router from 'vue-router'\r\nimport Settings from '@/components/Settings'\r\nimport Home from '@/components/Home'\r\nimport List from '@/components/List'\r\n\r\n\r\nVue.use(Router)\r\n\r\nconst router =  new Router({\r\n  routes: [\r\n    {\r\n      path: '/settings',\r\n      component: Settings,\r\n      meta: { isPublic: true }\r\n    },\r\n    {\r\n      path: '/home',\r\n      component: Home,\r\n      meta: { isPublic: true }\r\n    },\r\n    {\r\n      path: '/list',\r\n      component: List,\r\n      meta: { isPublic: true }\r\n    },\r\n    { path: '*', redirect: '/home' }\r\n  ],\r\n  linkActiveClass : 'active',\r\n  onError(e){\r\n    console.error('Router Error',e);\r\n  }\r\n})\r\n/*\r\n// Auth Handling\r\nrouter.beforeEach((to, from, next) => {\r\n  \r\n  if (to.matched.every(record => record.meta.isPublic)) {\r\n    next() // make sure to always call next()!\r\n  } else {\r\n    // this route requires auth, check if logged in\r\n    // if not, redirect to login page or Login Modal\r\n    checkLoggedIn(this.a.app).then(ok=>{\r\n      ok ? next() : next({path: '/login',query: {redirect:to.fullPath}})\r\n      // ok ? next() : next('/login')      \r\n    }).catch(error=>{\r\n      console.error('route error',error);\r\n      next(error)\r\n    })\r\n  }\r\n})*/\r\n\r\n\r\nexport default router;\n\n\n// WEBPACK FOOTER //\n// ./src/router.js","import axios from 'axios'\r\nimport {$http} from '@/api/http'\r\nimport MockAdapter from 'axios-mock-adapter'\r\nimport { WebSocket, Server } from 'mock-socket';\r\n\r\nvar data = {};\r\nvar meta = null;\r\n\r\nvar $mockServer \r\nvar $mock \r\n\r\nvar $socket = null;\r\n\r\naxios.get('static/data/data.json').then((resp)=>{\r\n  data = resp.data;\r\n})\r\n\r\nif(localStorage.getItem('disableDemo') !== 'true'){\r\n\r\n  console.log('Enabling Mock Services');\r\n\r\n  $mock = new MockAdapter($http)\r\n  .onGet('data.json').reply((cfg)=>{\r\n    console.log('mocking providing fake data');\r\n    return [200,data];  \r\n  })\r\n  .onGet('meta.json').reply((cfg)=>{ \r\n    return axios.get('/static/data/meta.json').then((resp)=>{\r\n      meta = resp.data;\r\n      console.log('mocking providing fake metadata');\r\n      return [200,meta];  \r\n    })\r\n  })\r\n  .onGet(/write/).reply((cfg)=>{\r\n    console.log('mocking writing data',cfg.url.split('/'));\r\n    var a = cfg.url.split('/');\r\n\r\n    data[a[2]][Number(a[3])] = Number(a[4]);\r\n\r\n    var randSlave = Number(a[2]);\r\n    var regs = data[randSlave];\r\n\r\n    var _json = {};\r\n    _json[randSlave] = regs;\r\n    _json[randSlave][Number(a[3])] = Number(a[4]);\r\n\r\n    if($socket) $socket.send(JSON.stringify(_json));\r\n\r\n    return [200,data];\r\n  })\r\n  .onAny().reply((cfg)=>{\r\n    console.log('onAny',cfg);\r\n    return [200,'Badaboom'];\r\n  })\r\n\r\n  $mockServer = new Server(\"ws://\"+localStorage.getItem('url'));\r\n\r\n  window.WebSocket = WebSocket; // Here we stub out the window object\r\n    \r\n  $mockServer.on('connection', socket => {\r\n      $socket = socket\r\n      console.log(\"started mock socket demo\",socket);\r\n      socket.on('close',() => {\r\n        console.log(\"stopping mock socket demo\");\r\n        $socket = null;\r\n        window.clearInterval(interval);\r\n      });\r\n      demo(socket);\r\n  });\r\n\r\n}\r\n\r\n\r\nvar interval = null;\r\n\r\nfunction demo(socket){\r\n  window.clearInterval(interval);\r\n  interval = window.setInterval(()=>{\r\n\r\n      var slaves = Object.keys(data);\r\n      var randSlave = slaves[random(0,slaves.length-1)];\r\n      var regs = data[randSlave];\r\n      var randReg = random(0,regs.length-1);\r\n\r\n      var _json = {};\r\n      _json[randSlave] = regs;\r\n      _json[randSlave][randReg] = regs[randReg] > 1 ? random(10,100) : random(0,1) ;\r\n\r\n\r\n      // console.log(\"mock socket _json\",_json);\r\n\r\n      socket.send(JSON.stringify(_json));\r\n\r\n    },5000)\r\n}\r\n\r\nfunction random(min,max) {\r\n  return Math.floor(Math.random() * (max - min + 1)) + min;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/api/mock.js","import Vue from 'vue'\r\nimport numeral from 'numeral'\r\n\r\nnumeral.localeData().delimiters.thousands = ' ';\r\n\r\nVue.filter('date', function(value) {\r\n  if(!value) return \"\"\r\n  return value.toLocaleString('ru', {\r\n    year: 'numeric',\r\n    month: 'short',\r\n    day: 'numeric'\r\n  }).initCap();\r\n});\r\n\r\nVue.filter('datetime', function(value) {\r\n  if(!value) return \"\"\r\n  return value.toLocaleString('ru', {\r\n    year: 'numeric',\r\n    month: 'short',\r\n    day: 'numeric',\r\n    hour:'numeric',\r\n    minute:'numeric'\r\n  });\r\n});\r\n\r\nVue.filter('numeric', function (value) {\r\n  return numeral(value).format('0,0')\r\n})\r\n\r\nString.prototype.initCap = function () {\r\n   return this.toLowerCase().replace('г.','').replace(/(?:^|\\s)[a-zа-я]/g, function (m) {\r\n      return m.toUpperCase();\r\n   });\r\n};\r\n\r\n\r\n/***************/\r\n\r\nVue.filter('humanizer', function (value,type,subtype) {\r\n  if(subtype == 'SENSOR'){\r\n    // return value == 0?'NO':(value == 1?'YES':value)\r\n    return value == 0?'○':(value == 1?'●':value)\r\n  } else if( subtype == 'RELAY'){\r\n    if(type=='TOGGLE') \r\n      return value == 0?'DN':(value == 1?'UP':value)\r\n    else \r\n      return value == 0?'OFF':(value == 1?'ON':value)\r\n  } else {\r\n    return value == 0?'OFF':(value == 1?'ON':value)\r\n  }\r\n})\r\n\r\nVue.filter('adjuster', function (value,type,enabled) {\r\n  if(type == 'TEMP' && enabled){\r\n    return value - 4;\r\n  } \r\n  return value;\r\n})\r\n\r\nvar powerValue = null;\r\nvar powerCnt = 0;\r\n\r\nvar coldValue = null;\r\nvar coldCnt = 0;\r\n\r\nvar hotValue = null;\r\nvar hotCnt = 0;\r\n\r\nVue.filter('money', function (value,type) {\r\n  if(value == null) return '-';\r\n  if(type == 'cold'){\r\n     if(coldValue != value && coldValue != null){\r\n      coldCnt++;\r\n    }\r\n    coldValue = value;\r\n    return ((454+coldCnt*10)/1000).toFixed(2) + 'm3 ( '+value*5+'тг)';\r\n  }\r\n  if(type == 'hot'){\r\n    if(hotValue != value && hotValue != null){\r\n      hotCnt++;\r\n    }\r\n    hotValue = value;\r\n    return ((1095+hotCnt*10)/1000).toFixed(2) + 'm3 ('+value*10+'тг)';\r\n  } \r\n  if(type == 'power'){\r\n    if(powerValue != value && powerValue != null){\r\n      powerCnt++;\r\n    }\r\n    powerValue = value;\r\n    return ((15300+powerCnt*1000/3200)/1000).toFixed(2) + ' kW ('+Math.ceil(value*0.1)+'тг)';\r\n  } \r\n  return value\r\n})\r\n\r\n\r\nVue.filter('unwrap', function (value,data) {\r\n  return unwrap(value,0,data);\r\n})\r\n\r\nfunction unwrap(v,i,data){\r\n  if(!data) return null;\r\n  if(v && v[i] && data[v[i]] && data[v[i]][Math.abs(v[i+1])] != null){\r\n    if(v[i+1] < 0) // Проверка на инвертированные значения\r\n      return (data[v[0]][Math.abs(v[i+1])] == 1) ? 0 : 1;\r\n    else \r\n      return data[v[0]][Math.abs(v[i+1])];\r\n  } else if(v && v[i-2]){\r\n    return unwrap(v,i-2,data)\r\n  } else {\r\n    return null\r\n  }\r\n\r\n}\r\n\r\nwindow.unwrap = unwrap;\n\n\n// WEBPACK FOOTER //\n// ./src/services/filters.js","// The Vue build version to load with the `import` command\r\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\r\nimport Vue from 'vue'\r\nimport App from './App'\r\n\r\nimport BootstrapVue from 'bootstrap-vue'\r\nimport AxiosVue from '@/services/axios'\r\n\r\nimport router from '@/router'\r\n\r\nimport 'bootstrap/dist/css/bootstrap.css'\r\nimport 'bootstrap-vue/dist/bootstrap-vue.css'\r\n// import VueNativeSock from 'vue-native-websocket'\r\n\r\nimport '@/api/mock'\r\n\r\nVue.use(BootstrapVue)\r\n// Vue.use(ToggleButton)\r\nVue.use(AxiosVue)\r\n\r\nimport '@/services/filters.js'\r\nVue.config.productionTip = false\r\n\r\n\r\n// Global Functions\r\nVue.mixin({\r\n  methods: {\r\n    $resetData: function (emit) {\r\n      console.log('reset global data =', this.$options.name)\r\n      // reset data()\r\n      Object.assign(this.$data, this.$options.data.call(this));\r\n      if((emit !==null && emit) || ( emit == null)) this.$emit('reset',null) /// CAUTION! May Interefere with other local events\r\n    },\r\n    $_clone: function (val) {\r\n      return Object.assign({},val);\r\n    },\r\n    $: function (id) {\r\n      return document.querySelector(id)\r\n    },\r\n    $ArrayRemoveElement(arr,item){\r\n      let index = arr.indexOf(item);\r\n      if(index !== -1) {\r\n        arr.splice(index, 1);\r\n      }\r\n    }\r\n  }\r\n});\r\n\r\n/* eslint-disable no-new */\r\nnew Vue({\r\n  el: '#app',\r\n  data () {\r\n    return {\r\n      fullscreen:false,\r\n      value:0,\r\n      meta:null,\r\n      data:null,\r\n      weather:null\r\n    }\r\n  },\r\n  created(){\r\n    window.addEventListener(\"com\",this.read)\r\n    // this.$mqtt.on('connect', ()=>{ this.mqttOnline = true })\r\n    // this.$mqtt.on('offline', ()=>{ this.mqttOnline = false })\r\n    // this.handleScroll = new InfiniteList(this.$refs.infinite, 'contacts', this.$store)\r\n  },\r\n  mounted(){\r\n    // this.$mqtt.subscribe('bicafe/keyboard')\r\n  },\r\n  watch:{\r\n    \r\n  },\r\n  // mqtt: {\r\n  //   'bicafe/keyboard' (barcode) {\r\n  //     console.log('mqtt keypreesed',barcode.toString(),'red');\r\n  //   }\r\n  // },\r\n  beforeDestroy(){\r\n    window.removeEventListener(\"com\",this.read)\r\n  },\r\n  router,\r\n  methods:{\r\n    read(e){\r\n      // console.log('readed from listener',e.detail);\r\n      if(!isNaN(e.detail)) this.value = e.detail\r\n      else console.error('is not a number');\r\n    },\r\n    toggleFullScreen() {\r\n      if ((document.fullScreenElement && document.fullScreenElement !== null) ||    \r\n       (!document.mozFullScreen && !document.webkitIsFullScreen)) {\r\n        if (document.documentElement.requestFullScreen) {  \r\n          document.documentElement.requestFullScreen();  \r\n        } else if (document.documentElement.mozRequestFullScreen) {  \r\n          document.documentElement.mozRequestFullScreen();  \r\n        } else if (document.documentElement.webkitRequestFullScreen) {  \r\n          document.documentElement.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT);  \r\n        } \r\n        this.fullscreen = true;\r\n      } else {  \r\n        if (document.cancelFullScreen) {  \r\n          document.cancelFullScreen();  \r\n        } else if (document.mozCancelFullScreen) {  \r\n          document.mozCancelFullScreen();  \r\n        } else if (document.webkitCancelFullScreen) {  \r\n          document.webkitCancelFullScreen();  \r\n        } \r\n        this.fullscreen = false;\r\n      }  \r\n    },\r\n  },\r\n  render: h => h(App)\r\n})\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}